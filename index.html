<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Game Hub: Ultimate</title>
<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;900&display=swap" rel="stylesheet">
<style>
:root {
--bg-gradient: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
--card-bg: rgba(255, 255, 255, 0.08);
--card-border: rgba(255, 255, 255, 0.15);
--accent: #4cc9f0;
--text-main: #ffffff;
}

* { box-sizing: border-box; }

body {
margin: 0;
padding: 0;
background: var(--bg-gradient);
color: var(--text-main);
font-family: 'Nunito', sans-serif;
height: 100vh;
overflow: hidden; /* –ë–ª–æ–∫–∏—Ä—É–µ–º —Å–∫—Ä–æ–ª–ª –æ—Å–Ω–æ–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã */
}

/* --- MENU SCREEN --- */
#menu-screen {
display: flex;
flex-direction: column;
align-items: center;
height: 100%;
padding: 40px 20px;
overflow-y: auto; /* –°–∫—Ä–æ–ª–ª —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ –º–µ–Ω—é */
}

.hub-title {
font-size: 3rem;
font-weight: 900;
text-transform: uppercase;
letter-spacing: 2px;
background: linear-gradient(to right, #f72585, #4cc9f0);
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
margin-bottom: 30px;
text-shadow: 0 10px 20px rgba(0,0,0,0.3);
text-align: center;
}

.games-grid {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(280px, 320px));
gap: 25px;
width: 100%;
justify-content: center;
padding-bottom: 50px;
}

.game-card {
background: var(--card-bg);
border: 1px solid var(--card-border);
border-radius: 24px;
padding: 25px;
cursor: pointer;
transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
backdrop-filter: blur(10px);
display: flex;
flex-direction: column;
align-items: center;
text-align: center;
box-shadow: 0 10px 30px rgba(0,0,0,0.2);
}

.game-card:hover {
transform: translateY(-8px) scale(1.02);
box-shadow: 0 20px 40px rgba(76, 201, 240, 0.3);
border-color: var(--accent);
background: rgba(255, 255, 255, 0.12);
}

.game-icon {
font-size: 40px;
margin-bottom: 15px;
background: rgba(255,255,255,0.1);
width: 80px; height: 80px;
display: flex; align-items: center; justify-content: center;
border-radius: 50%;
box-shadow: inset 0 0 20px rgba(255,255,255,0.05);
}

.game-title { font-size: 1.4rem; font-weight: 800; margin-bottom: 8px; }
.game-desc { font-size: 0.9rem; color: #b0b0b0; margin-bottom: 20px; line-height: 1.4; }
.btn-play { background: var(--accent); color: #000; border: none; padding: 12px 35px; border-radius: 50px; font-weight: 900; text-transform: uppercase; letter-spacing: 1px; width: 100%; cursor: pointer; }

/* --- GAME CONTAINER (–ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –æ–±–æ–ª–æ—á–∫–∞) --- */
#game-wrapper-outer {
position: fixed;
top: 0; left: 0; width: 100%; height: 100%;
background: rgba(0,0,0,0.85); /* –ó–∞—Ç–µ–º–Ω–µ–Ω–∏–µ —Ñ–æ–Ω–∞ –≤–æ–∫—Ä—É–≥ –∏–≥—Ä—ã */
backdrop-filter: blur(15px);
display: none; /* –°–∫—Ä—ã—Ç–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é */
justify-content: center;
align-items: center;
z-index: 1000;
}

/* –≠—Ç–æ "–≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω" –Ω–∞ —ç–∫—Ä–∞–Ω–µ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ */
#game-device-frame {
width: 100%;
height: 100%;
max-width: 500px; /* –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ (–∫–∞–∫ –ø–ª–∞–Ω—à–µ—Ç/—Ç–µ–ª–µ—Ñ–æ–Ω) */
max-height: 900px;
background: #1a1a2e;
display: flex;
flex-direction: column;
position: relative;
box-shadow: 0 0 100px rgba(76, 201, 240, 0.15);
}

/* –ù–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö —É–±–∏—Ä–∞–µ–º —Ä–∞–º–∫–∏ –∏ –æ—Ç—Å—Ç—É–ø—ã */
@media (max-width: 550px) {
#game-device-frame {
max-width: 100%;
max-height: 100%;
border-radius: 0;
}
}

.game-nav {
height: 60px;
min-height: 60px;
background: #16213e;
display: flex;
align-items: center;
justify-content: space-between;
padding: 0 20px;
border-bottom: 1px solid rgba(255,255,255,0.1);
z-index: 10;
}

.btn-back {
background: rgba(255,255,255,0.1);
border: none;
color: white;
padding: 8px 16px;
border-radius: 12px;
cursor: pointer;
font-family: 'Nunito', sans-serif;
font-weight: 700;
font-size: 14px;
display: flex;
align-items: center;
gap: 5px;
transition: background 0.2s;
}
.btn-back:hover { background: rgba(255,255,255,0.25); }

iframe {
flex: 1;
border: none;
width: 100%;
height: 100%;
display: block;
}

</style>
</head>
<body>

<div id="menu-screen">
<div class="hub-title">ARCADE HUB</div>
<div class="games-grid" id="games-grid"></div>
</div>

<div id="game-wrapper-outer">
<div id="game-device-frame">
<div class="game-nav">
<button class="btn-back" onclick="closeGame()">‚ùÆ MENU</button>
<div style="font-weight:800; color:#4cc9f0; letter-spacing:1px;">PLAYING</div>
<div style="width:70px;"></div> </div>
<iframe id="game-frame"></iframe>
</div>
</div>

<script>
// === –í–ù–£–¢–†–ï–ù–ù–ò–ô –ö–û–î –ò–ì–†–´ (–û–ü–¢–ò–ú–ò–ó–ò–†–û–í–ê–ù–ù–´–ô –ò–ù–¢–ï–†–§–ï–ô–°) ===
// –Ø –∏–∑–º–µ–Ω–∏–ª —Ü–≤–µ—Ç–∞ —Å–µ—Ç–∫–∏ –∏ –¥–æ–±–∞–≤–∏–ª —Ñ–æ–Ω, —á—Ç–æ–±—ã –Ω–∞ –ü–ö –Ω–µ –±—ã–ª–æ —á–µ—Ä–Ω–æ—Ç—ã
const CLONE_BLAST_SOURCE = `
<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<style>
:root {
/* –§–æ–Ω —Å–∞–º–æ–π –∏–≥—Ä—ã —Ç–µ–ø–µ—Ä—å —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –æ–±—â–µ–π —Ç–µ–º–æ–π, –Ω–æ —á—É—Ç—å —Ç–µ–º–Ω–µ–µ */
--bg-game: linear-gradient(180deg, #1a1a2e 0%, #16213e 100%);
--text: #fff;
}
body {
margin: 0; padding: 0; overflow: hidden;
background: var(--bg-game);
font-family: 'Nunito', sans-serif;
display: flex; flex-direction: column; align-items: center;
height: 100vh; touch-action: none;
justify-content: flex-start; /* –ù–∞—á–∏–Ω–∞–µ–º —Å–≤–µ—Ä—Ö—É */
}

/* –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å –æ—á–∫–æ–≤ */
.ui-header {
width: 100%; padding: 15px 20px;
display: flex; justify-content: space-between; align-items: center;
background: rgba(0,0,0,0.2);
border-bottom: 1px solid rgba(255,255,255,0.05);
margin-bottom: 20px;
}
.logo { font-weight: 900; font-size: 22px; color: #4cc9f0; text-shadow: 0 0 10px rgba(76,201,240,0.4); }
.scores { display: flex; gap: 10px; }
.score-box { text-align: center; background: rgba(255,255,255,0.1); padding: 5px 12px; border-radius: 8px; }
.lbl { font-size: 9px; opacity: 0.7; text-transform: uppercase; }
.val { font-weight: 800; font-size: 18px; color: #fff; }

/* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä Canvas - —Ç–µ–ø–µ—Ä—å –æ–Ω –≤—Å–µ–≥–¥–∞ –≤–∏–¥–µ–Ω */
#canvas-container {
position: relative;
margin: 0 auto;
/* –¢–µ–Ω—å —á—Ç–æ–±—ã –≤—ã–¥–µ–ª–∏—Ç—å –ø–æ–ª–µ –Ω–∞ —Ñ–æ–Ω–µ */
box-shadow: 0 20px 50px rgba(0,0,0,0.5);
border-radius: 15px;
background: rgba(0,0,0,0.3); /* –ü–æ–¥–ª–æ–∂–∫–∞ –ø–æ–¥ –∫–∞–Ω–≤–∞—Å */
}

canvas {
display: block;
border-radius: 12px;
/* –£–±–∏—Ä–∞–µ–º —á–µ—Ä–Ω—ã–µ —É–≥–ª—ã */
background: transparent;
}

/* –û–≤–µ—Ä–ª–µ–π –ø—Ä–æ–∏–≥—Ä—ã—à–∞ */
#overlay {
position: absolute; top: 0; left: 0; width: 100%; height: 100%;
background: rgba(20, 20, 35, 0.9);
backdrop-filter: blur(5px);
display: none; flex-direction: column; align-items: center; justify-content: center;
border-radius: 12px; z-index: 50;
}
.btn { background: #4361ee; color: #fff; border: none; padding: 12px 30px; border-radius: 50px; font-weight: 800; font-size: 16px; margin-top: 15px; cursor: pointer; }
</style>
<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;900&display=swap" rel="stylesheet">
</head>
<body>
<div class="ui-header">
<div class="logo">CLONE BLAST</div>
<div class="scores">
<div class="score-box"><div class="lbl">BEST</div><div class="val" id="hs">0</div></div>
<div class="score-box"><div class="lbl">SCORE</div><div class="val" id="cs">0</div></div>
</div>
</div>

<div id="canvas-container">
<canvas id="gameCanvas"></canvas>
<div id="overlay">
<h2 style="color: #f72585; margin:0; font-size: 32px;">GAME OVER</h2>
<div class="lbl" style="margin-top:10px; color:#fff;">SCORE</div>
<div class="val" id="fs" style="font-size:36px;">0</div>
<button class="btn" onclick="restart()">TRY AGAIN</button>
</div>
</div>

<script>
// --- GAME LOGIC ---
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d', { alpha: false }); // Optimization

// –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞–∑–º–µ—Ä–æ–≤
const GRID = 8;
let CELL = 0;
const HAND_H = 160;
let PADDING = 12;

// –¶–≤–µ—Ç–∞
const COLORS = ["#ff595e","#ffca3a","#8ac926","#1982c4","#6a4c93","#f15bb5","#4cc9f0"];
// –§–æ—Ä–º—ã
const SHAPES=[[[1]],[[1,1]],[[1],[1]],[[1,1,1]],[[1],[1],[1]],[[1,1],[1,1]],[[1,1,1],[0,1,0]],[[0,1,0],[1,1,1]],[[1,0],[1,0],[1,1]],[[0,1],[0,1],[1,1]],[[1,1],[0,1]],[[1,1],[1,0]],[[1,0,0],[1,1,1]],[[0,0,1],[1,1,1]]];

let grid=[], hand=[], score=0, hs=localStorage.getItem('cb_hs')||0, over=false;
let dragShape=null, dragOff={x:0,y:0}, preview=null;

// UI
const elCS=document.getElementById('cs'), elHS=document.getElementById('hs'), elFS=document.getElementById('fs'), elOv=document.getElementById('overlay');

// Init
function init() {
elHS.innerText = hs;
resize();
window.addEventListener('resize', resize);

// Input Listeners
canvas.addEventListener('pointerdown', down);
window.addEventListener('pointermove', move);
window.addEventListener('pointerup', up);

restart();
loop();
}

function resize() {
// –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º —à–∏—Ä–∏–Ω—É —Ç–∞–∫, —á—Ç–æ–±—ã –æ–Ω–∞ –≤–ª–µ–∑–∞–ª–∞ –≤ iframe
const maxW = Math.min(window.innerWidth - 20, 450); // –ß—É—Ç—å —É–∂–µ –¥–ª—è –∫—Ä–∞—Å–æ—Ç—ã
CELL = Math.floor((maxW - PADDING*2) / GRID);

canvas.width = CELL * GRID + PADDING * 2;
canvas.height = canvas.width + HAND_H; // –ö–≤–∞–¥—Ä–∞—Ç–Ω–æ–µ –ø–æ–ª–µ + –º–µ—Å—Ç–æ –¥–ª—è —Ä—É–∫–∏ —Å–Ω–∏–∑—É

// –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–∑–∏—Ü–∏–∏ —Ä—É–∫–∏, –µ—Å–ª–∏ —Ä–µ—Å–∞–π–∑ –≤–æ –≤—Ä–µ–º—è –∏–≥—Ä—ã
if(hand.length) hand.forEach((s, i) => {
if(!s.placed && !s.drag) {
s.baseX = canvas.width/3 * i + canvas.width/6;
s.baseY = canvas.height - HAND_H/2;
s.x = s.baseX; s.y = s.baseY;
}
});
}

function restart() {
grid = Array(GRID).fill().map(()=>Array(GRID).fill(null));
hand=[]; score=0; over=false;
elCS.innerText=0;
elOv.style.display='none';
spawn();
}

function spawn() {
hand = [];
const slot = canvas.width / 3;
for(let i=0; i<3; i++) {
hand.push({
m: SHAPES[Math.floor(Math.random()*SHAPES.length)],
c: COLORS[Math.floor(Math.random()*COLORS.length)],
baseX: slot*i + slot/2,
baseY: canvas.height - HAND_H/2,
x: slot*i + slot/2, y: canvas.height - HAND_H/2,
s: 0.6, placed: false
});
}
checkLoss();
}

// --- INPUT ---
function getPos(e) {
const r = canvas.getBoundingClientRect();
// –í–∞–∂–Ω–æ: —É—á–∏—Ç—ã–≤–∞–µ–º –º–∞—Å—à—Ç–∞–± canvas —á–µ—Ä–µ–∑ CSS –µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å
const scaleX = canvas.width / r.width;
const scaleY = canvas.height / r.height;
return {
x: (e.clientX - r.left) * scaleX,
y: (e.clientY - r.top) * scaleY
};
}

function down(e) {
if(over) return;
const p = getPos(e);
for(let s of hand) {
if(s.placed) continue;
// –ü—Ä–æ—Å—Ç–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ö–∏—Ç–±–æ–∫—Å–∞
let hw = (s.m[0].length * CELL * s.s)/2 + 20; // +20 –∑–∞–ø–∞—Å –¥–ª—è –ø–∞–ª—å—Ü–∞
let hh = (s.m.length * CELL * s.s)/2 + 20;
if(Math.abs(p.x - s.x) < hw && Math.abs(p.y - s.y) < hh) {
dragShape = s;
dragShape.drag = true;
// –°–º–µ—â–∞–µ–º —Ñ–∏–≥—É—Ä—É —á—É—Ç—å –≤—ã—à–µ –ø–∞–ª—å—Ü–∞, —á—Ç–æ–±—ã –≤–∏–¥–µ—Ç—å –µ—ë
dragOff = { x: p.x - s.x, y: p.y - s.y + 60 };
s.ts = 1.0; // Target Scale
break;
}
}
}

function move(e) {
if(!dragShape) return;
const p = getPos(e);
dragShape.x = p.x - dragOff.x;
dragShape.y = p.y - dragOff.y;

// Preview
const mx = dragShape.m[0].length;
const my = dragShape.m.length;
const r = Math.round((dragShape.y - PADDING)/CELL - my/2);
const c = Math.round((dragShape.x - PADDING)/CELL - mx/2);

if(canPlace(dragShape.m, r, c)) preview = {r,c};
else preview = null;
}

function up(e) {
if(!dragShape) return;
if(preview) {
place(dragShape, preview.r, preview.c);
dragShape.placed = true;
dragShape.s = 0;
checkLines();
if(hand.every(s=>s.placed)) setTimeout(spawn, 200);
else checkLoss();
} else {
// –í–æ–∑–≤—Ä–∞—Ç –Ω–∞ –º–µ—Å—Ç–æ
animateBack(dragShape);
}
dragShape = null; preview = null;
}

function animateBack(s) {
s.drag = false;
let steps = 10;
let dx = (s.baseX - s.x)/steps;
let dy = (s.baseY - s.y)/steps;
function anim() {
if(s.drag || s.placed) return;
s.x += dx; s.y += dy;
s.s += (0.6 - s.s) * 0.2;
if(--steps > 0) requestAnimationFrame(anim);
else { s.x=s.baseX; s.y=s.baseY; s.s=0.6; }
}
anim();
}

// --- CORE ---
function canPlace(m, r, c) {
for(let y=0; y<m.length; y++)
for(let x=0; x<m[y].length; x++)
if(m[y][x]) {
if(r+y<0 || r+y>=GRID || c+x<0 || c+x>=GRID || grid[r+y][c+x]) return false;
}
return true;
}

function place(s, r, c) {
s.m.forEach((row, dy) => row.forEach((v, dx) => {
if(v) grid[r+dy][c+dx] = s.c;
}));
score += 10; updateScore();
}

function checkLines() {
let rows=[], cols=[];
for(let r=0; r<GRID; r++) if(grid[r].every(x=>x)) rows.push(r);
for(let c=0; c<GRID; c++) if(grid.map(r=>r[c]).every(x=>x)) cols.push(c);

if(rows.length + cols.length > 0) {
rows.forEach(r => grid[r].fill(null));
cols.forEach(c => { for(let r=0; r<GRID; r++) grid[r][c]=null; });
score += (rows.length + cols.length) * 100;
updateScore();
}
}

function checkLoss() {
const active = hand.filter(s=>!s.placed);
if(!active.length) return;
let possible = false;
for(let s of active) {
for(let r=-2; r<GRID; r++) {
for(let c=-2; c<GRID; c++) {
if(canPlace(s.m, r, c)) { possible=true; break; }
}
if(possible) break;
}
}
if(!possible) {
over = true;
elFS.innerText = score;
elOv.style.display = 'flex';
}
}

function updateScore() {
elCS.innerText = score;
if(score > hs) { hs = score; localStorage.setItem('cb_hs', hs); elHS.innerText = hs; }
}

// --- DRAW ---
function loop() {
// –§–æ–Ω –∫–∞–Ω–≤–∞—Å–∞ (–Ω–µ –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π!)
ctx.fillStyle = "#1a1a2e";
ctx.fillRect(0,0, canvas.width, canvas.height);

drawGrid();

// –ë–ª–æ–∫–∏ –Ω–∞ –ø–æ–ª–µ
for(let r=0; r<GRID; r++)
for(let c=0; c<GRID; c++)
if(grid[r][c]) drawBlock(r, c, grid[r][c]);

// –ü—Ä–∏–∑—Ä–∞–∫ (–∫—É–¥–∞ —É–ø–∞–¥–µ—Ç)
if(preview && dragShape) {
ctx.globalAlpha = 0.3;
dragShape.m.forEach((row, dy) => row.forEach((v, dx) => {
if(v) drawBlock(preview.r+dy, preview.c+dx, "#fff");
}));
ctx.globalAlpha = 1.0;
}

// –†—É–∫–∞
hand.forEach(s => {
if(!s.placed) {
// Lerp scale
if(s.drag) s.s += (1.0 - s.s)*0.2;
drawShape(s);
}
});

requestAnimationFrame(loop);
}

function drawGrid() {
// –†–∏—Å—É–µ–º –ø–æ–¥–ª–æ–∂–∫–∏ –¥–ª—è —è—á–µ–µ–∫, —á—Ç–æ–±—ã –±—ã–ª–æ –≤–∏–¥–Ω–æ —Å–µ—Ç–∫—É
for(let r=0; r<GRID; r++)
for(let c=0; c<GRID; c++) {
const x = PADDING + c * CELL;
const y = PADDING + r * CELL;
const s = CELL - 4;
// –°–≤–µ—Ç–ª—ã–π –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω –¥–ª—è –ø—É—Å—Ç—ã—Ö —è—á–µ–µ–∫
ctx.fillStyle = "rgba(255,255,255,0.06)";
roundRect(x+2, y+2, s, s, 6);
ctx.fill();
}
}

function drawBlock(r, c, color) {
const x = PADDING + c * CELL;
const y = PADDING + r * CELL;
const s = CELL - 2;
ctx.fillStyle = color;
roundRect(x+1, y+1, s, s, 8);
ctx.fill();
// –ë–ª–∏–∫
ctx.fillStyle = "rgba(255,255,255,0.3)";
ctx.beginPath();
ctx.arc(x+s*0.25, y+s*0.25, s*0.15, 0, Math.PI*2);
ctx.fill();
}

function drawShape(s) {
const cs = CELL * s.s;
const w = s.m[0].length * cs;
const h = s.m.length * cs;
const cx = s.x - w/2;
const cy = s.y - h/2;

s.m.forEach((row, r) => row.forEach((v, c) => {
if(v) {
ctx.fillStyle = s.c;
if(s.drag) { ctx.shadowColor=s.c; ctx.shadowBlur=15; }
roundRect(cx + c*cs + 1, cy + r*cs + 1, cs-2, cs-2, 6);
ctx.fill();
ctx.shadowBlur=0;
}
}));
}

function roundRect(x,y,w,h,r) {
ctx.beginPath(); ctx.moveTo(x+r, y); ctx.lineTo(x+w-r, y);
ctx.quadraticCurveTo(x+w, y, x+w, y+r); ctx.lineTo(x+w, y+h-r);
ctx.quadraticCurveTo(x+w, y+h, x+w-r, y+h); ctx.lineTo(x+r, y+h);
ctx.quadraticCurveTo(x, y+h, x, y+h-r); ctx.lineTo(x, y+r);
ctx.quadraticCurveTo(x, y, x+r, y); ctx.closePath();
}

init();
<\/script>
</body>
</html>
`;

const GAMES_LIBRARY = [
{
id: 'cloneblast',
title: 'Clone Blast: Ultimate',
description: '–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –±–ª–æ—á–Ω–∞—è –≥–æ–ª–æ–≤–æ–ª–æ–º–∫–∞. –ü–æ–ª–Ω–æ—Å—Ç—å—é –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω!',
icon: 'üß©',
source: CLONE_BLAST_SOURCE
},
{
id: 'soon',
title: 'Coming Soon',
description: '–ù–æ–≤—ã–µ –∏–≥—Ä—ã –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ...',
icon: 'üöÄ',
isPlaceholder: true
}
];

// --- RENDER MENU ---
const grid = document.getElementById('games-grid');
GAMES_LIBRARY.forEach(game => {
const card = document.createElement('div');
card.className = 'game-card';
if(game.isPlaceholder) card.style.opacity = '0.5';

card.innerHTML = `
<div class="game-icon">${game.icon}</div>
<div class="game-title">${game.title}</div>
<div class="game-desc">${game.description}</div>
<button class="btn-play">${game.isPlaceholder ? 'LOCKED' : 'PLAY'}</button>
`;

if(!game.isPlaceholder) {
card.onclick = () => launchGame(game.id);
}
grid.appendChild(card);
});

// --- GAME LAUNCHER ---
const menuScreen = document.getElementById('menu-screen');
const gameWrapper = document.getElementById('game-wrapper-outer');
const gameFrame = document.getElementById('game-frame');

function launchGame(id) {
const game = GAMES_LIBRARY.find(g => g.id === id);
if(!game) return;

// –°–∫—Ä—ã–≤–∞–µ–º —Å–∫—Ä–æ–ª–ª –Ω–∞ body, —á—Ç–æ–±—ã –Ω–µ –¥–µ—Ä–≥–∞–ª–æ—Å—å
document.body.style.overflow = 'hidden';

gameFrame.srcdoc = game.source;
gameWrapper.style.display = 'flex'; // Flex —Ü–µ–Ω—Ç—Ä–∏—Ä—É–µ—Ç "—Ç–µ–ª–µ—Ñ–æ–Ω" –Ω–∞ —ç–∫—Ä–∞–Ω–µ –ü–ö
}

function closeGame() {
gameFrame.srcdoc = "";
gameWrapper.style.display = 'none';
}

</script>
</body>
</html>
